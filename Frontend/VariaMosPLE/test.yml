config:
  target: "http://localhost:4000" # Cambia esto por la URL de tu servidor de socket.io
  phases:
    - duration: 60  # Tiempo total de la prueba (60 segundos en este ejemplo)
      arrivalRate: 100  # Número de usuarios que se conectan por segundo
scenarios:
  - engine: "socketio"
    flow:
      # Paso 1: Agregar tres celdas
      - emit:
          channel: "cellAdded"
          data:
            cells: 
              - { id: "1", type: "vertex", x: 50, y: 50, width: 100, height: 50, label: "Cell 1" }
              - { id: "2", type: "vertex", x: 150, y: 150, width: 100, height: 50, label: "Cell 2" }
              - { id: "3", type: "vertex", x: 250, y: 250, width: 100, height: 50, label: "Cell 3" }

      # Paso 2: Mover una de las celdas (Cell 1)
      - emit:
          channel: "cellMoved"
          data:
            cells: [{ id: "1", x: 200, y: 200 }]

      # Paso 3: Realizar una conexión entre dos celdas (Cell 1 y Cell 2)
      - emit:
          channel: "cellConnected"
          data:
            sourceId: "1"
            targetId: "2"
            relationshipId: "rel_1_2"
            relationshipName: "Connection 1"
            style: "strokeColor=#446E79;strokeWidth=1;endArrow=oval;endFill=1;endSize=12;"
            properties: 
              - { name: "Type", value: "Mandatory" }

      # Paso 4: Eliminar una celda (Cell 3)
      - emit:
          channel: "cellRemoved"
          data:
            cellIds: ["3"]

      # Paso 5: Redimensionar una celda (Cell 2)
      - emit:
          channel: "cellResized"
          data:
            id: "2"
            x: 150
            y: 150
            width: 150
            height: 100
